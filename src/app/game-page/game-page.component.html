<div>
  <h2>Welcome, {{ playerName }}!</h2>
  <p>Game Status: {{ gameStatus }}</p>
  <p>Points: {{ points }}</p>
  <p>Time Spent: {{ timeSpent | date : "mm:ss" }}</p>

  <button (click)="exitGame()">Exit Game</button>
  <button (click)="finishGame()">Finish</button>

  <ngx-race
    #game
    (carOvertaken)="grantPoints()"
    (gameOver)="gameOver()"
  ></ngx-race>
  <br />
  <br />
  <!-- <button (click)="startGame()">Start</button>
  <button (click)="stopGame()">Stop</button> -->

  <button *ngIf="gameStatus === 'Ready'" (click)="startGame()">
    Start Game
  </button>
  <button *ngIf="gameStatus === 'Started'" (click)="stopGame()">
    Pause Game
  </button>
  <button *ngIf="gameStatus === 'Paused'" (click)="startGame()">
    Resume Game
  </button>
  <button *ngIf="gameStatus === 'Started'" (click)="endGame()">End Game</button>
  <br />
  <button (click)="resetGame()">Reset</button>
  <br />
  <button (click)="game.actionLeft()">Left</button>
  <button (click)="game.actionRight()">Right</button>
  <br />
  <button (click)="game.actionTurboOn()">Turbo ON</button>
  <button (click)="game.actionTurboOff()">Turbo OFF</button>

  <!-- Display gameplay history -->
  <div>
    <h3>Gameplay History</h3>
    <!-- <label>Filter by Event Type:</label>
    <select [(ngModel)]="selectedEventType" (change)="filterGameplayHistory()">
      <option value="all">All Events</option>
      <option value="lineCleared">Line Cleared</option>
    </select>

    <label>Sort by Timestamp:</label>
    <select [(ngModel)]="sortOrder" (change)="filterGameplayHistory()">
      <option value="latestFirst">Latest First</option>
      <option value="oldestFirst">Oldest First</option>
    </select> -->

    <ul>
      <li *ngFor="let event of gameplayHistory">
        {{ event.timestamp | date : "medium" }} - {{ event.action }}
      </li>
    </ul>
  </div>
</div>
